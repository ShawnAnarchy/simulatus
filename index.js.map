{"version":3,"file":"index.js","sources":["index.ts"],"sourcesContent":["import * as Random from 'random.ts'\nimport * as Util from './util'\nlet trace = Util.trace;\nlet squash = Util.squash;\nconst config = require('config');\n\nconst TICKING_TIME = config.get('global.tickingTime')\nconst POPULATION = config.get('nation.population');\nconst SIMULATE_FOR_DAYS = config.get('global.simulateForDays');\nconst FACILITATORS_INITIAL_HEADCCOUNT = config.get('deliberation.facilitatorsInitialHeadcount');\nconst PROFESSIONALS_INITIAL_HEADCCOUNT_PER_DOMAIN = config.get('deliberation.professionalsInitialHeadcountPerDomain');\nconst SUPREME_JUDGES_INITIAL_HEADCCOUNT = config.get('deliberation.supremeJudgesInitialHeadcount');\nconst UPPERBOUND = config.get('citizen.derivationUpperBound');\nconst LOWERBOUND = config.get('citizen.derivationLowerBound');\n\ntype ValidationResult = {\n  code: string,\n  report: string\n}\ninterface ClockInterface {\n  tick(): void;\n  validate(): ValidationResult;\n}\n\nclass StateMachine implements ClockInterface {\n  people: Array<Citizen>;\n  treasury: number;\n  annualRevenue: number;\n  annualExpense: number;\n  annualSeigniorage: number;\n  annualInfrationRate: number;\n  proposals: Array<Proposal>;\n  domains: Array<string>;\n  miscellaneousAdministrations: Array<Administration>;\n  AofMedia: Administration;\n  AofEducation: Administration;\n  AofSurveillance: Administration;\n  AofPolice: Administration;\n  AofJurisdiction: Administration;\n  AofKYC: Administration;\n  AofTEEManager: Administration;\n  supremeJudges: Array<SupremeJudge>;\n  facilitators: Array<Facilitator>;//TODO Map<string, Facilitator>\n  professionals: Map<string, Array<Professional>>;\n\n\n  constructor(){\n    this.people = [];\n    this.treasury = 0;\n    this.annualRevenue = 0;\n    this.proposals = [];\n    this.domains = [];\n    this.miscellaneousAdministrations = [];\n    this.AofMedia = new Administration();\n    this.AofEducation = new Administration();\n    this.AofSurveillance = new Administration();\n    this.AofPolice = new Administration();\n    this.AofJurisdiction = new Administration();\n    this.AofKYC = new Administration();\n    this.AofTEEManager = new Administration();\n    this.supremeJudges = [];\n    this.facilitators = [];\n    this.professionals = new Map<string,Array<Professional>>();\n  }\n\n  payTax(amount){\n    this.treasury += amount;\n  }\n  withdrawWelfare(amount){\n    this.treasury -= amount;\n  }\n  addDomain(name:string){\n    this.domains.push(name);\n    this.professionals[name] = [];\n  }\n  addCitizen(){\n    this.people.push(new Citizen())\n  }\n  removeCitizen(citizenId){\n    let index = this.people.map((c,i) => c.id == citizenId ? i : 0).reduce((s,i)=> s+i,0)\n    this.people.splice(index, 1);\n  }\n  addSupremeJudge(judge){\n    this.supremeJudges.push(judge)\n  }\n  addFacilitator(facilitators){\n    this.facilitators.push(facilitators)\n  }\n  addProfessional(domain, professional){\n    this.professionals[domain].push(professional)\n  }\n\n  getPopulation(){\n    return this.people.length\n  }\n  getGDP(){\n    return this.people.map(p=> p.annualSalary ).reduce((sum, el) => sum + el, 0);\n  }\n  tick(){\n    let context = this.validate();\n    if( !context.code ) throw new Error(`DAO4N Error: Assumption viorated. ${context.report}`)\n\n    // TODO tick all actors\n    this.people.map(c=> c.tick() )\n    this.proposals.map(p=> p.tick() )\n    this.miscellaneousAdministrations.map(a=> a.tick() )\n    this.AofMedia.tick()\n    this.AofEducation.tick()\n    this.AofSurveillance.tick()\n    this.AofPolice.tick()\n    this.AofJurisdiction.tick()\n    this.AofKYC.tick()\n    this.AofTEEManager.tick()\n    this.supremeJudges.map(a=> a.tick() )\n    this.facilitators.map(a=> a.tick() )\n    this.domains.map(d=>{\n      this.professionals[d].map(a=> a.tick() )\n    })\n    // TODO each ticks refer this https://paper.dropbox.com/doc/--A94iOUxIv4si~XPY5jFo1TMKAg-OSm6HZnzqnEz61jbe0izX\n\n\n    // TODO calculate stats\n\n\n  }\n  validate(){\n    // TODO check CROs' max headcount\n    // TODO check budget exceeding\n    // TODO check deregistration rate\n\n    return {\n      code: \"a\",\n      report: \"\"\n    }\n  }\n  submitProposal(proposer, problemType){\n    this.proposals.push(new Proposal(proposer, problemType))\n  }\n  approveProposal(proposal){\n    this.miscellaneousAdministrations.push(proposal.administrationToBeCreated)\n    //TODO: Reward for participants\n    //TODO: There's no tie between admin and vestedMonthlyBudget\n  }\n  updateProposal(proposal){\n    let pid = proposal.id;\n    let index = this.proposals.map((p,i)=> p.id === pid ? i : 0).reduce((s,i)=> s+i, 0)\n    this.proposals.splice(index, 1)\n    this.proposals.push(proposal)\n\n    let participants = [proposal.proposer].concat(proposal.representatives).concat(proposal.professionals);\n    if(proposal.facilitator) participants.push(proposal.facilitator)\n    let partIds = participants.map(p=>p.id)\n    partIds.map(partId=>{\n      let partIndex = this.people.map((p,i)=> p.id === partId ? i : 0).reduce((s,i)=> s+i, 0)\n      this.people.splice(partIndex, 1);\n    })\n    participants.map(p=>{\n      this.people.push(p);\n    })\n  }\n}\nlet state = (() => {\n  var instance: StateMachine;\n\n  function createInstance():StateMachine {\n    var object: StateMachine = new StateMachine();\n    return object;\n  }\n\n  return {\n    get: ()=>{\n      if (!instance) {\n        instance = createInstance();\n      }\n      return instance;\n    },\n    set: _state=>{\n      instance = _state\n    }\n  }\n})();\n\n\nconst enum ProblemTypes {\n  ASSIGNMENT = 'a',\n  DISMISSAL = 'd',\n  NORMAL = 'n',\n  HEAVY = 'h',\n  VARIABLE_UPDATE = 'vu'\n}\nconst enum ProposalPhases {\n  INITIAL_JUDGE = 'i',\n  FACILITATOR_ASSIGNMENT = 'fa',\n  DOMAIN_ASSIGNMENT = 'da',\n  PROFESSIONAL_ASSIGNMENT = 'pa',\n  DELIBERATION = 'd',\n  FINAL_JUDGE = 'f',\n  HEADCOUNT_EXCEEDED = 'h',\n  UNKNOWN_ERROR = \"ue\"\n}\nclass Proposal implements ClockInterface {\n  s: StateMachine;\n  id: string;\n  proposer: Citizen;\n  facilitator?: Citizen;\n  professionals: Array<Citizen>;\n  domains: Array<string>\n  problemType: ProblemTypes;\n  durationDays:number;\n  spentDays:number;\n  representatives: Array<Citizen>;\n  representativeHeadcount: number;\n  progressismDegree: number;\n  humanrightsDegree: number;\n  administrationToBeCreated: Administration;\n  vestedMonthlyBudget: number;\n  isFinished: boolean;\n\n  constructor(proposer, problemType){\n    this.id = Random.uuid(40);\n    this.problemType = problemType;\n    this.proposer = proposer;\n    this.facilitator = null;\n    this.domains = [];\n    this.professionals = [];\n    this.durationDays = this.getDurationDays();\n    this.spentDays = 0;\n    this.representativeHeadcount = 30;\n    this.representatives = []\n    this.pickRepresentatives()\n    this.progressismDegree = 30 + Random.number(0, 60)\n    this.humanrightsDegree = 30 + Random.number(0, 60)\n    this.administrationToBeCreated = new Administration()\n    this.vestedMonthlyBudget = this.administrationToBeCreated.monthlyBudget\n    this.isFinished = false\n  }\n  getDurationDays(){\n    switch (this.problemType) {\n      case ProblemTypes.ASSIGNMENT:\n        return 14;\n      case ProblemTypes.DISMISSAL:\n        return 3;\n      case ProblemTypes.NORMAL:\n        return 14;\n      case ProblemTypes.HEAVY:\n        return 60;\n      case ProblemTypes.VARIABLE_UPDATE:\n        return 14;\n      }\n  }\n  finishProposal(){\n    this.isFinished = true;\n    this.proposer.isBusy = false;\n    this.representatives = this.representatives.map(r=>{ r.isBusy = false; return r; });\n    if(this.facilitator) this.facilitator.isBusy = false;\n    this.professionals = this.professionals.map(p=>{ p.isBusy = false; return p; });\n    state.get().updateProposal(this);\n  }\n\n  tick(){\n    let context = this.validate()\n    switch(context.code){\n      case ProposalPhases.INITIAL_JUDGE:\n        if(this.proposer.intelligenceDeviation > 50){\n          // just tick if proposal is pseudo-reasonable\n        } else {\n          this.finishProposal()\n        }\n        break;\n      case ProposalPhases.FACILITATOR_ASSIGNMENT:\n        let f = state.get().facilitators.filter(f=> !f.isBusy )\n        this.facilitator = f[Random.number(0, f.length-1)]\n        break;\n      case ProposalPhases.DOMAIN_ASSIGNMENT:\n        this.pickDomains()\n        break;\n      case ProposalPhases.PROFESSIONAL_ASSIGNMENT:\n        this.pickProfessionals()\n        break;\n      case ProposalPhases.DELIBERATION:\n        if(!this.isFinished){\n          let teachers = [this.facilitator].concat(this.professionals)\n          let avgTeacherintelligenceDeviation = teachers.map(t=> t.intelligenceDeviation ).reduce((s,i)=> s+i ,0)/teachers.length\n          let dailyEffect = (avgTeacherintelligenceDeviation - 50)/this.durationDays\n          this.representatives = this.representatives.map(r=> r.affectByDeliberation(dailyEffect) )\n          this.modificationRequests();\n        }\n        break;\n      case ProposalPhases.FINAL_JUDGE:\n        let forCount = this.representatives.filter(r=>{\n          let res = false;\n          if( r.humanrightsPreference < 50 && r.progressismPreference > this.progressismDegree ) {\n            res = true\n          } else if ( r.progressismPreference > this.progressismDegree && r.humanrightsPreference > this.humanrightsDegree ) {\n            res = true\n          }\n          return res;\n        }).length\n        if(forCount > this.representatives.length/2){\n          state.get().approveProposal(this);\n          this.finishProposal();\n        } else {\n          this.finishProposal();\n        }\n        break;\n      case ProposalPhases.HEADCOUNT_EXCEEDED:\n        break;\n    }\n    this.spentDays += TICKING_TIME\n  }\n  validate(){\n    if(this.spentDays === 0) {\n      return { code: ProposalPhases.INITIAL_JUDGE, report: \"\" }\n    } else if(0 < this.spentDays && !this.facilitator) {\n      return { code: ProposalPhases.FACILITATOR_ASSIGNMENT, report: \"\" }\n    } else if(!!this.facilitator && !this.domains) {\n      return { code: ProposalPhases.DOMAIN_ASSIGNMENT, report: \"\" }\n    } else if(!!this.facilitator && !!this.domains && !this.professionals) {\n      return { code: ProposalPhases.PROFESSIONAL_ASSIGNMENT, report: \"\" }\n    } else if(!!this.facilitator && !!this.domains && !!this.professionals) {\n      return { code: ProposalPhases.DELIBERATION, report: \"\" }  \n    } else if(this.spentDays === this.durationDays) {\n      return { code: ProposalPhases.FINAL_JUDGE, report: \"\" }\n    } else if(this.representatives.length > this.representativeHeadcount) {\n      return {\n        code: ProposalPhases.HEADCOUNT_EXCEEDED,\n        report: `this.representatives.length=${this.representatives.length} and this.representativeHeadcount=${this.representativeHeadcount}`\n      }  \n    } else {\n      return {\n        code: ProposalPhases.UNKNOWN_ERROR,\n        report: `Proposal.validate(): Unknown error.`\n      }  \n  \n    }\n  }\n  pickFacilitator(){\n    let candidates = state.get().facilitators.filter(f=> !f.isBusy )\n    let randIndex = Random.number(0, candidates.length-1)\n    let selectedFacilitator = candidates[randIndex]\n    selectedFacilitator.isBusy = true\n    state.get().facilitators[randIndex] = selectedFacilitator\n    this.facilitator = selectedFacilitator\n  }\n  pickRepresentatives(){\n    let rand = Random.number(0, this.representativeHeadcount-1);\n    let shuffledPeople = Util.shuffle(state.get().people.filter(p=> (!p.isBusy && 16 <= p.age) ));\n    [...Array(rand)].map((x,i)=> this.representatives.push(shuffledPeople[i])  );\n  }\n  pickDomains(){\n    let rand = Random.number(0, state.get().domains.length-1);\n    let shuffledDomains = Util.shuffle(state.get().domains);\n    [...Array(rand)].map((x,i)=> this.domains.push(shuffledDomains[i])  );\n  }\n  pickProfessionals(){\n    this.domains.map(d=>{\n      let candidates = state.get().professionals[d].filter(p=> !p.isBusy )\n      let randIndex = Random.number(0, candidates.length-1)\n      let selectedProfessional = candidates[randIndex]\n      selectedProfessional.isBusy = true;\n      state.get().professionals[d][randIndex] = selectedProfessional;\n      this.professionals.push( selectedProfessional )\n    })\n  }\n  modificationRequests(){\n    this.progressismDegree += Random.number(0, 7) - Random.number(0, 5)\n    this.humanrightsDegree += Random.number(0, 7) - Random.number(0, 5)\n  }\n}\n\nenum LifeStage {\n  SUFFRAGE = 's',\n  WORKFORCE = 'w',\n  NURSING = 'n',\n  DEATH = 'd',\n  OTHER = 'o'\n}\nclass Citizen implements ClockInterface {\n  id: string;\n  annualSalary: number;\n  intelligenceDeviation: number;\n  conspiracyPreference: number;\n  cultPreference: number;\n  isSocioPath: boolean;\n  isTakingCareForThe7thOffsprings: boolean; \n  progressismPreference: number;\n  humanrightsPreference: number;\n  age: number;\n  biologicallyCanBePregnant: boolean; \n  lifetime: number;\n  isBusy: boolean;\n\n  constructor(){\n    this.id = Random.uuid(40)\n    this.annualSalary = 0;\n    this.intelligenceDeviation = 30 + Random.number(0, 60);\n    this.conspiracyPreference = 100 - this.intelligenceDeviation + Random.number(0, 10) - Random.number(0, 10);\n    this.cultPreference = 100 - this.intelligenceDeviation + Random.number(0, 10) - Random.number(0, 10);\n    this.isSocioPath = !!(Random.number(0, 1) & Random.number(0, 1) & Random.number(0, 1) & Random.number(0, 1) );\n    this.isTakingCareForThe7thOffsprings = !!(Random.number(0, 1) & Random.number(0, 1) & Random.number(0, 1) & Random.number(0, 1) );\n    this.progressismPreference = 50*((this.intelligenceDeviation*this.conspiracyPreference*this.cultPreference)/(50*50*50))^(1/3);\n    this.humanrightsPreference = (this.isSocioPath) ? 30 :\n      (this.isTakingCareForThe7thOffsprings) ? 70 :\n      (this.progressismPreference > 60) ? 40 :\n      (this.progressismPreference > 50) ? 50 :\n      (this.progressismPreference > 40) ? 60 : 70;\n    this.biologicallyCanBePregnant = !!Random.number(0, 1)\n    this.lifetime = Random.number(65, 85) + Random.number(0, 35) - Random.number(0, 65)\n    this.age = this.lifetime - Random.number(0, this.lifetime);\n    this.isBusy = false;\n  }\n  tick(){\n    let context = this.validate();\n\n    this.earn(context)\n    this.payTax(context)\n    this.getWelfare(context)\n    this.activePoliticalAction(context)\n    this.passivePoliticalAction(context)\n    \n    if(context.code === LifeStage.DEATH){\n      state.get().removeCitizen(this.id)\n    }\n\n    this.age += TICKING_TIME/365\n    this.validateAfter();\n  }\n  validate(){\n    if (this.age > this.lifetime) {\n      return { code: LifeStage.DEATH, report: \"\" }\n    } else if (this.age < 16 || 75 < this.age) {\n      return { code: LifeStage.NURSING, report: \"\" }\n    } else if (22 <= this.age && this.age <= 75) {\n      return { code: LifeStage.WORKFORCE, report: \"\" }\n    } else if (16 <= this.age) {\n      return { code: LifeStage.SUFFRAGE, report: \"\" }\n    } else {\n      return { code: LifeStage.OTHER, report: \"\" }\n    }\n  }\n  validateAfter(){\n    if(this.intelligenceDeviation < LOWERBOUND) this.intelligenceDeviation = LOWERBOUND;\n    if(this.conspiracyPreference < LOWERBOUND) this.conspiracyPreference = LOWERBOUND;\n    if(this.cultPreference < LOWERBOUND) this.cultPreference = LOWERBOUND;\n    if(this.progressismPreference < LOWERBOUND) this.progressismPreference = LOWERBOUND;\n    if(this.humanrightsPreference < LOWERBOUND) this.humanrightsPreference = LOWERBOUND;\n\n    if(UPPERBOUND < this.intelligenceDeviation) this.intelligenceDeviation = UPPERBOUND;\n    if(UPPERBOUND < this.conspiracyPreference) this.conspiracyPreference = UPPERBOUND;\n    if(UPPERBOUND < this.cultPreference) this.cultPreference = UPPERBOUND;\n    if(UPPERBOUND < this.progressismPreference) this.progressismPreference = UPPERBOUND;\n    if(UPPERBOUND < this.humanrightsPreference) this.humanrightsPreference = UPPERBOUND;\n  }\n  earn(context){\n    switch(context.code){\n      case LifeStage.SUFFRAGE:\n        this.annualSalary = -1500*12\n        break;\n      case LifeStage.WORKFORCE:\n        if (this.annualSalary < 2000*12) {\n          this.annualSalary = 2000*12 + Random.number(0, 1000*12)\n        } else if (65 < this.age) {\n          this.annualSalary = 3000*12 + Random.number(0, 2000*12) - Random.number(0, 2000*12)\n        } else if (50 < this.age) {\n          this.annualSalary = 5000*12 + Random.number(0, 5000*12) - Random.number(0, 1000*12)\n        } else if (46 < this.age) {\n          this.annualSalary = 5000*12 + Random.number(0, 4000*12) - Random.number(0, 2000*12)\n        } else if (32 < this.age) {\n          this.annualSalary = 4000*12 + Random.number(0, 4000*12) - Random.number(0, 1500*12)\n        } else if (28 < this.age) {\n          this.annualSalary = 3000*12 + Random.number(0, 2000*12) - Random.number(0, 1000*12)\n        }\n        break;\n      case LifeStage.NURSING:\n        this.annualSalary = -1000*12\n        break;\n      case LifeStage.DEATH:\n        this.annualSalary = 0\n        break;\n    }\n  }\n  payTax(context){\n    let taxRate;\n    switch(context.code){\n      case LifeStage.SUFFRAGE:\n        taxRate = 0;\n        break;\n      case LifeStage.WORKFORCE:\n        if (this.annualSalary < 2000*12) {\n          taxRate = 0.1;\n        } else if (2000*12 <= this.annualSalary && this.annualSalary < 3000*12) {\n          taxRate = 0.13;\n        } else if (3000*12 <= this.annualSalary && this.annualSalary < 4000*12) {\n          taxRate = 0.15;\n        } else if (4000*12 <= this.annualSalary && this.annualSalary < 5000*12) {\n          taxRate = 0.17;\n        } else if (5000*12 <= this.annualSalary && this.annualSalary < 6000*12) {\n          taxRate = 0.19;\n        } else if (6000*12 <= this.annualSalary && this.annualSalary < 7000*12) {\n          taxRate = 0.21;\n        } else if (7000*12 <= this.annualSalary && this.annualSalary < 8000*12) {\n          taxRate = 0.23;\n        } else if (8000*12 <= this.annualSalary && this.annualSalary < 9000*12) {\n          taxRate = 0.25;\n        } else if (9000*12 <= this.annualSalary && this.annualSalary < 10000*12) {\n          taxRate = 0.27;\n        } else {\n          taxRate = 0.38;\n        }\n        break;\n      case LifeStage.NURSING:\n        taxRate = 0;\n        break;\n      case LifeStage.DEATH:\n        taxRate = 0;\n        break;\n    }\n    this.annualSalary = this.annualSalary*(1-taxRate)\n    state.get().payTax(this.annualSalary*taxRate)\n  }\n  getWelfare(context){\n    let welfareAmount;\n    switch(context.code){\n      case LifeStage.SUFFRAGE:\n        welfareAmount = 1000*12\n        break;\n      case LifeStage.WORKFORCE:\n        welfareAmount = 100*12\n        break;\n      case LifeStage.NURSING:\n        welfareAmount = 2000*12\n        break;\n        case LifeStage.DEATH:\n        welfareAmount = 0\n        break;\n    }\n    this.annualSalary = this.annualSalary + welfareAmount\n    state.get().withdrawWelfare(welfareAmount)\n  }\n  activePoliticalAction(context){\n    switch(context.code){\n      case LifeStage.SUFFRAGE:\n      case LifeStage.WORKFORCE:\n      case LifeStage.NURSING:\n        if(this.age < 16){\n        } else {\n          if(this.annualSalary/12 > 5000 || this.intelligenceDeviation > 55) {\n            if(Random.number(0, 365/3) === 0){\n              this.submitProposal();\n            }\n          }\n        }\n        break;\n      case LifeStage.DEATH:\n        break;\n    }\n  }\n  submitProposal(){\n    state.get().submitProposal(this, ProblemTypes.NORMAL)\n    this.isBusy = true;\n  }\n  passivePoliticalAction(context){\n    // skip: passive action is automatic in the simulator\n  }\n  affectByDeliberation(point){\n    this.intelligenceDeviation += point\n    this.conspiracyPreference -= point\n    this.cultPreference -= point\n    this.isSocioPath = false\n    this.progressismPreference = 50*((this.intelligenceDeviation*this.conspiracyPreference*this.cultPreference)/(50*50*50))^(1/3);\n    this.humanrightsPreference += point\n    return this\n  }\n}\nclass CorruptionResistantOfficer extends Citizen {\n  constructor(candidate: Citizen){\n    let s = state.get();\n    super();\n    this.isBusy = candidate.isBusy;\n    this.id = candidate.id\n    this.annualSalary = candidate.annualSalary\n    this.intelligenceDeviation = candidate.intelligenceDeviation\n    this.conspiracyPreference = candidate.conspiracyPreference\n    this.cultPreference = candidate.cultPreference\n    this.isSocioPath = candidate.isSocioPath\n    this.progressismPreference = candidate.progressismPreference\n    this.humanrightsPreference = candidate.humanrightsPreference\n    this.biologicallyCanBePregnant = candidate.biologicallyCanBePregnant\n    this.lifetime = candidate.lifetime\n    this.age = candidate.age\n  }\n}\nclass SupremeJudge extends CorruptionResistantOfficer {\n}\nclass Facilitator extends CorruptionResistantOfficer {\n}\nclass Professional extends CorruptionResistantOfficer {\n}\n\n\nclass Administration implements ClockInterface {\n  id: string;\n  monthlyBudget: number;\n  curruption: number;\n  headCount: number;\n\n  constructor(){\n    this.id = Random.uuid(40);\n    this.headCount = 8 + Random.number(0, 6);\n    this.monthlyBudget = [...Array(this.headCount)]\n      .map(_=> 3000 + Random.number(0, 2000) )\n      .reduce((sum, el) => sum + el, 0);\n    this.curruption = Random.number(0, 30);\n  }\n\n  tick(){\n    this.curruption += Random.number(0, 3)/10\n  }\n  validate(){\n    return {code:\"\",report:\"\"}\n  }\n\n}\n\n\n(function(){\n  let s = state.get();\n  for(var i=0; i<POPULATION; i++){\n    s.addCitizen()\n  }\n  s.addDomain('finance')\n  s.addDomain('military')\n  s.addDomain('publicSafety')\n  s.addDomain('physics')\n  s.addDomain('biology')\n  for(var i=0; i<FACILITATORS_INITIAL_HEADCCOUNT; i++){\n    let candidate = s.people[Random.number(0, s.people.length-1)]\n    s.addFacilitator(new Facilitator(candidate))\n  }\n  for(var i=0; i<SUPREME_JUDGES_INITIAL_HEADCCOUNT; i++){\n    let candidate = s.people[Random.number(0, s.people.length-1)]\n    s.addSupremeJudge(new SupremeJudge(candidate))\n  }\n  for(var i=0; i<PROFESSIONALS_INITIAL_HEADCCOUNT_PER_DOMAIN; i++){\n    for(var j=0; j<s.domains.length; j++){\n      let candidate = s.people[Random.number(0, s.people.length-1)]\n      s.addProfessional(s.domains[j], new Professional(candidate))\n    }\n  }\n  for(var i=0; i<SIMULATE_FOR_DAYS*2; i++){\n    s.tick();\n  }\n\n  trace(s)\n})()"],"names":[],"mappings":"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"}